import{r as m,j as x}from"./index.3f5dcb5c.js";const D=(s,r)=>{switch(r.type){case"user":return{...s,user:r.payload};case"posts":return{...s,posts:r.payload};case"userId":return{...s,userId:r.payload};case"username":return{...s,username:r.payload};case"searchedUser":return{...s,searchedUser:r.payload};case"searchedUserPosts":return{...s,searchedUserPosts:r.payload};case"searchedUserId":return{...s,searchedUserId:r.payload};case"searchedUsername":return{...s,searchedUsername:r.payload};case"usernameParams":return{...s,usernameParams:r.payload};default:return{...s}}},f=m.exports.createContext(),j=({children:s})=>{const r={user:{},posts:[],userId:null,username:null,postId:null,searchedUser:{},searchedUserPosts:[],searchedUserId:null,searchedUsername:null,usernameParams:null},[d,a]=m.exports.useReducer(D,r),t=e=>{a({type:"userId",payload:e})},o=e=>{a({type:"username",payload:e})},p=e=>{a({type:"user",payload:e})},c=e=>{a({type:"posts",payload:e})},U=e=>{a({type:"searchedUser",payload:e})},y=e=>{a({type:"searchedUserPosts",payload:e})},h=e=>{a({type:"searchedUserId",payload:e})},P=e=>{a({type:"searchedUsername",payload:e})},u=e=>{a({type:"usernameParams",payload:e})},I=async e=>{try{const n=await(await fetch(`https://memoirs.onrender.com/api/v1/users/${e}?limit=6&offset=0`)).json();p(n.userDetails),c(n.userPosts),t(n.userDetails.userId),o(n.userDetails.username),u(n.userDetails.username)}catch(l){console.log(l)}};return x(f.Provider,{value:{updateUserData:I,appendUserDetails:p,appendUserPosts:c,appendUserId:t,appendUsername:o,appendSearchedUserDetails:U,appendSearchedUserPosts:y,appendSearchedUserId:h,appendSearchedUsername:P,appendUsernameParams:u,user:d.user,userId:d.user._id,username:d.username,posts:d.posts,searchedUser:d.searchedUser,searchedUserPosts:d.searchedUserPosts,usernameParams:d.usernameParams},children:s})};export{f as UserContext,j as default};
